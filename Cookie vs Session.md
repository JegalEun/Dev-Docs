`쿠키(Cookie)`와 `세션(Session)`에 대해 배워보는 시간을 가질 것이다.
각각의 특성 및 차이를 확실히 분류하는 것이 목표이다.

# 쿠키(Cookie)
쿠키란 서버측에서 클라이언트 측에 상태 정보를 저장하고 추출할 수 있는 매커니즘이다.

`HTTP`의 일종으로 사용자가 어떠한 웹 사이트를 방문할 경우, 그 사이트가 사용하고 있는 서버에서 사용자의 **컴퓨터에 저장하는 작은 기록 정보 파일**이다.

`HTTP`에서 클라이언트의 상태 정보를 클라이언트의 PC에 저장하였다가 필요시 정보를 참조하거나 재사용할 수 있다.

예를 들면 어떤 사이트에 로그인하고 이용하던 도중 창이 닫히게 되는 경우를 많이 경험했을 것이다. 하지만 방문했던 사이트를 다시 방문하였을 때 로그인이 되어있을 것이다. 이 경우가 쿠키를 사용한 예시라고 볼 수 있다.

또 다른 예시로는 팝업창에 "오늘 이 창을 다시 보지 않기"에 체크를 하였을 때도 쿠키를 이용해 정보를 저장했기 때문에
팝업창이 더이상 안뜨게 되는 것이다.

## 쿠키 특징
- 이름, 값, 만료일(저장 기간 설정), 경로 정보로 구성되어 있다.
- 클라이언트에 총 300개의 쿠키를 저장할 수 있다.
- 하나의 도메인 당 20개의 쿠키를 가질 수 있다.
- 하나의 쿠키는 4KB(=4096byte)까지 저장 가능하다.

## 쿠키의 동작 순서
1. 클라이언트가 페이지를 요청한다. 
2. 웹 서버는 쿠키를 생성한다.
3. 생성한 쿠키에 정보를 담아 HTTP 화면을 돌려줄 때, 같이 클라이언트에게 돌려준다.
4. 넘겨 받은 쿠키는 클라이언트가 보유하다가(로컬 PC에 저장) 동일 사이트 방문시 서버에 요청할 때 쿠키를 담아서 전송한다.

# 세션(Session)
세션이란 클라이언트와 웹 서버 간에 네트워크 연결이 지속적으로 유지되고 있는 상태를 말한다.

여기서 일정 시간은 방문자가 웹 브라우저를 통해 웹 서버에 접속한 시점으로부터 웹 브라우저를 종료하여 연결을 끝내는 시점을 말한다.

즉, 방문자가 웹 서버에 접속해 있는 상태를 하나의 단위로 보고 그것을 세션이라고 한다.

화면이 이동해도 로그인이 풀리지 않고 로그아웃하기 전까지 유지할 수 있도록 하는 것이 세션을 활용한 대표적 예시이다.

## 세션 특징
- 웹 서버에 웹 컨테이너의 상태를 유지하기 위한 정보를 저장한다.
- 웹 서버의 저장되는 쿠키(=세션 쿠키)
- 브라우저를 닫거나, 서버에서 세션을 삭제했을 때만 삭제가 되므로, 쿠키보다 비교적 보안이 좋다.
- 저장 데이터에 제한이 없다. 
- 각 클라이언트 고유 Session ID를 부여한다. 
- Session ID로 클라이언트로 구분하여 각 클라이언트 요구에 맞는 서비스 제공 

## 세션 동작 순서
1. 클라이언트가 페이지를 요청한다. (사용자가 웹 사이트 접근)
2. 서버는 접근한 클라이언트의 `Request-Header` 필드인 Cookie를 확인하여, 클라이언트가 해당 `Session-ID`를 보냈는 지 확인한다.
3. `Session-ID`가 존재하지 않는다면(=처음 접속한다면), 서버는 `Session-ID`를 생성해 클라이언트에게 `Session-ID`를 부여한다. 이 `ID`가 세션이다.
4. 클라이언트는 재접속 시, `Session-ID`값을 서버에 전달하게 된다.
5. 서버는 클라이언트로부터 받은 `Session-ID`값으로 클라이언트를 구분할 수 있다.

### 쿠키와 세션 차이
|구분|쿠키|세션|
|------|---|---|
|저장 위치|클라이언트(사용자)|웹 서버|
|저장 형식|Text|Object|
|만료 시점|쿠키 저장시 설정<br>(브라우저가 종료되도, 만료시점이 지나지 않으면 자동삭제되지 않음)|브라우저 종료시 삭제(기간 지정가능)|
|사용하는 자원|클라이언트 리소스|웹 서버 리소스|
|용량 제한|총 300개<br>하나의 도메인 당 20개<br>하나의 쿠키 당 4KB|서버가 허용하는 한 용량제한 없음|
|속도|세션보다 빠름|쿠키보다 느림|
|보안|테스트2|쿠키보다 좋음|

### 쿠키와 세션을 사용하는 이유
그렇다면 이 쿠키와 세션을 왜 사용할까? 단순히 사용자의 편의를 위해, 로그인하기 귀찮아서 사용하는 것일까?

쿠키와 세션을 사용하는 이유는 바로 HTTP 프로토콜의 특징에 있다.

HTTP 프로토콜은 두가지의 특징이 있다.

1. Connectionless 프로토콜 (비연결지향)
> 클라이언트가 서버에 요청을 했을 때, 그 요청에 맞는 응답을 보낸 후 연결을 끊는 처리방식이다.

2. Stateless 프로토콜 (상태정보 유지 안함)
> 클라이언트의 상태 정보를 가지지 않는 서버 처리 방식이다.

하지만 실제로 상태정보를 유지해야 할 경우가 많기 때문에 쿠키와 세션을 이용하는 것이다.

정보가 유지되지 않으면, 매번 페이지를 이동할 때 마다 로그인을 다시 
